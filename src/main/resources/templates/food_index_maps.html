<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Xenon Boostrap Admin Panel" />
    <meta name="author" content="" />

    <title>美食文化演变分析</title>

    <link rel="stylesheet" href="http://fonts.useso.com/css?family=Arimo:400,700,400italic">
    <link rel="stylesheet" href="css/fonts/linecons/css/linecons.css">
    <link rel="stylesheet" href="css/fonts/fontawesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/xenon-core.css">
    <link rel="stylesheet" href="css/xenon-forms.css">
    <link rel="stylesheet" href="css/xenon-components.css">
    <link rel="stylesheet" href="css/xenon-skins.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="stylesheet" href="https://openlayers.org/en/v5.3.0/css/ol.css" type="text/css">
    <script src="https://openlayers.org/en/v5.3.0/build/ol.js"></script>
    <link rel="stylesheet" href="js/ol/ol.css" type="text/css">
    <link rel="stylesheet" href="css/widgets.css" type="text/css">
    <script src="js/echarts.js"></script>
<!--    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>-->

    <style>
        #cesiumContainer {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
    </style>
    <script src="js/jquery-1.11.1.min.js"></script>



</head>

<body class="page-body">
    <div class="page-container">
        <!--左侧-->
        <div class="sidebar-menu toggle-others fixed">

            <ul class="sidebar-menu-inner">
                <!--logo定义-->
                <header class="logo-env">
                    舌尖系统
                    <!-- logo -->
                    <div class="logo" style="color: #ffffff;font-size: 24px;">
                        <!-- <a href="foos_index_maps.html" class="logo-expanded">
                            <img src="assets/images/logo@2x.png" width="80" alt="" />
                        </a>
                        <img src="assets/images/logo@2x.png" width="80" alt="" />
                        <a href="foos_index_maps.html" class="logo-collapsed">
                            <img src="assets/images/logo-collapsed@2x.png" width="40" alt="" />
                        </a> -->
                        <img src="images/fav.png" width="24" alt="" />
                        舌尖系统
                    </div>

                </header>
                <!--menu定义-->
                <ul id="main-menu" class="main-menu">
                    <li>
                        <a href="#">
                            <i class="linecons-desktop"></i>
                            <span class="title">基础地理要素图层</span>
                        </a>
                        <ul id="controls">
                            <li>
                                <a href="#">
                                    <input type="checkbox" class="cbr cbr-primary" id="osm" checked="checked" />
                                    <span class="title">OSM图层</span>
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <input type="checkbox" class="cbr cbr-primary" id="color" />
                                    <span class="title">Color图层</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a>
                            <i class="linecons-desktop"></i>
                            <span class="title">美食文化演变</span>
                        </a>
                        <ul>
                            <li>
                                <a href="#2D-history">
                                    <span class="title">重要历史事件</span>
                                </a>
                            </li>
                            <li>
                                <a href="#2D-farming">
                                    <span class="title">传入作物</span>
                                </a>
                            </li>
                        </ul>
                    </li>
            </ul>
            </ul>
        </div>

        <div class="main-content">
            <!--2D-WMS-切换图层-->
            <div class="panel panel-default" id='wms'>
                <div class="panel-heading">
                    <h3 class="panel-title">2DMaps</h3>
                    <div class="panel-options">
                        <a href="#" data-toggle="panel">
                            <span class="collapse-icon">&ndash;</span>
                            <span class="expand-icon">+</span>
                        </a>
                        <a href="#" data-toggle="remove">
							&times;
						</a>
                    </div>
                </div>
                <div class="panel-body">
                    <!--在这改内容-->
                    <div id="map"></div>
                    <script src="https://openlayers.org/en/v5.3.0/build/ol.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js"></script>
                    <script>
                        let map = new ol.Map({
                            target: 'map', // 关联到对应的div容器
                            layers: [
                                new ol.layer.Tile({ // OpenStreetMap图层
                                    source: new ol.source.OSM()
                                }),
                                new ol.layer.Tile({
                                    source: new ol.source.Stamen({
                                        layer: 'watercolor'
                                    }),
                                    visible: false // 先隐藏该图层
                                })

                            ],
                            view: new ol.View({ // 地图视图
                                projection: 'EPSG:3857',
                                center: [0, 0],
                                zoom: 5
                            })
                        });
                        setInterval(function() {
                            var checked = document.getElementsByTagName('input');
                            for (var i = 0; i < checked.length; i++) {
                                if (checked[i].checked) {
                                    map.getLayers().item(i).setVisible(true);
                                } else {
                                    map.getLayers().item(i).setVisible(false);
                                }
                            }
                        }, 200);
                    </script>
                </div>
            </div>
            <!--2D-流线图-->
            <div class="panel panel-default" id="2D-farming">
                <div class="panel-heading">
                    <h3 class="panel-title"> 2DMap-openlayers</h3>
                    <div class="panel-options">
                        <a href="#" data-toggle="panel">
                            <span class="collapse-icon">&ndash;</span>
                            <span class="expand-icon">+</span>
                        </a>
                        <a href="#" data-toggle="remove">
							&times;
						</a>
                    </div>
                </div>
                <div class="panel-body">
                    <!--在这改内容-->
                    <div id="map1"></div>
                    <script src="https://cdn.jsdelivr.net/npm/hmap-js/dist/hmap.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js"></script>
                    <!--<script src="../../../dist/ol3Echarts.js"></script>-->
                    <script>
                        var maps1 = new HMap('map1', {
                            controls: {
                                loading: true,
                                zoomSlider: true,
                                fullScreen: false
                            },
                            view: {
                                center: [113.48639681199214, 23.31897543042969],
                                projection: 'EPSG:4326',
                                zoom: 10, // resolution
                            },
                            baseLayers: [{
                                layerName: 'vector',
                                isDefault: true,
                                layerType: 'TileXYZ',
                                projection: 'EPSG:3857',
                                tileGrid: {
                                    tileSize: 256,
                                    extent: [-2.0037507067161843E7, -3.0240971958386254E7, 2.0037507067161843E7, 3.0240971958386205E7],
                                    origin: [-2.0037508342787E7, 2.0037508342787E7],
                                    resolutions: [
                                        156543.03392800014,
                                        78271.51696399994,
                                        39135.75848200009,
                                        19567.87924099992,
                                        9783.93962049996,
                                        4891.96981024998,
                                        2445.98490512499,
                                        1222.992452562495,
                                        611.4962262813797,
                                        305.74811314055756,
                                        152.87405657041106,
                                        76.43702828507324,
                                        38.21851414253662,
                                        19.10925707126831,
                                        9.554628535634155,
                                        4.77731426794937,
                                        2.388657133974685
                                    ]
                                },
                                layerUrl: 'http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}'
                            }]
                        });
                        var echartslayer = new ol3Echarts(getOptions());
                        echartslayer.appendTo(maps1.getMap());

                        function getOptions() {
                            var GZ_DATA_GEO_CoordMap = {
                                '天河区': [113.368672, 23.130389],
                                '黄埔区': [113.466408, 23.111777],
                                '海珠区': [113.323254, 23.089173],
                                '越秀区': [113.272949, 23.135441],
                                '荔湾区': [113.250815, 23.131453],
                                '白云区': [113.278986, 23.164151],
                                '南沙区': [113.530511, 22.808027],
                                '花都区': [113.225806, 23.412711],
                                '增城区': [113.817106, 23.267509],
                                '从化区': [113.593464, 23.555101],
                                '番禺区': [113.391669, 22.943615]
                            }
                            var ZCData = [
                                [{
                                    name: '增城区'
                                }, {
                                    name: '番禺区',
                                    value: 95
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '从化区',
                                    value: 90
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '天河区',
                                    value: 80
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '花都区',
                                    value: 70
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '南沙区',
                                    value: 60
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '白云区',
                                    value: 50
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '荔湾区',
                                    value: 40
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '越秀区',
                                    value: 30
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '海珠区',
                                    value: 20
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '增城区',
                                    value: 10
                                }],
                                [{
                                    name: '增城区'
                                }, {
                                    name: '黄埔区',
                                    value: 10
                                }]
                            ];
                            var NSData = [
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '黄埔区',
                                    value: 95
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '海珠区',
                                    value: 90
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '越秀区',
                                    value: 80
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '荔湾区',
                                    value: 70
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '天河区',
                                    value: 60
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '白云区',
                                    value: 50
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '花都区',
                                    value: 40
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '增城区',
                                    value: 30
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '从化区',
                                    value: 20
                                }],
                                [{
                                    name: '南沙区'
                                }, {
                                    name: '番禺区',
                                    value: 10
                                }]
                            ];
                            var HZData = [
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '黄埔区',
                                    value: 95
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '白云区',
                                    value: 90
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '越秀区',
                                    value: 80
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '荔湾区',
                                    value: 70
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '天河区',
                                    value: 60
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '南沙区',
                                    value: 50
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '花都区',
                                    value: 40
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '增城区',
                                    value: 30
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '从化区',
                                    value: 20
                                }],
                                [{
                                    name: '海珠区'
                                }, {
                                    name: '番禺区',
                                    value: 10
                                }]
                            ];
                            var CHData = [
                                [{
                                    name: '从化区'
                                }, {
                                    name: '黄埔区',
                                    value: 95
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '白云区',
                                    value: 90
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '越秀区',
                                    value: 80
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '荔湾区',
                                    value: 70
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '天河区',
                                    value: 60
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '南沙区',
                                    value: 50
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '花都区',
                                    value: 40
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '增城区',
                                    value: 30
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '海珠区',
                                    value: 20
                                }],
                                [{
                                    name: '从化区'
                                }, {
                                    name: '番禺区',
                                    value: 10
                                }]
                            ];
                            var HDData = [
                                [{
                                    name: '花都区'
                                }, {
                                    name: '黄埔区',
                                    value: 95
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '白云区',
                                    value: 90
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '越秀区',
                                    value: 80
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '荔湾区',
                                    value: 70
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '天河区',
                                    value: 60
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '南沙区',
                                    value: 50
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '从化区',
                                    value: 40
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '增城区',
                                    value: 30
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '海珠区',
                                    value: 20
                                }],
                                [{
                                    name: '花都区'
                                }, {
                                    name: '番禺区',
                                    value: 10
                                }]
                            ];
                            var convertData_gz = function(data) {
                                var res = [];
                                for (var i = 0; i < data.length; i++) {
                                    var dataItem = data[i];
                                    var fromCoord = GZ_DATA_GEO_CoordMap[dataItem[0].name];
                                    var toCoord = GZ_DATA_GEO_CoordMap[dataItem[1].name];
                                    if (fromCoord && toCoord) {
                                        res.push({
                                            fromName: dataItem[0].name,
                                            fromValue: dataItem[1].value,
                                            toName: dataItem[1].name,
                                            coords: [fromCoord, toCoord]
                                        });
                                    }
                                }
                                return res;
                            };
                            var color = ['#a6c84c', '#ffa022', '#46bee9', '#ff3399', '#D15FEE'];
                            var series = [];
                            [
                                ['增城区', ZCData],
                                ['南沙区', NSData],
                                ['海珠区', HZData],
                                ['从化区', CHData],
                                ['花都区', HDData]
                            ].forEach(function(item, i) {
                                series.push({
                                    name: item[0],
                                    type: 'lines',
                                    zlevel: 1,
                                    effect: {
                                        show: true,
                                        period: 6,
                                        trailLength: 0.7,
                                        color: '#fff',
                                        symbolSize: 3,
                                        shadowBlur: 4.4
                                    },
                                    lineStyle: {
                                        normal: {
                                            color: color[i],
                                            width: 0,
                                            curveness: 0.2
                                        }
                                    },
                                    data: convertData_gz(item[1])
                                }, {
                                    name: item[0],
                                    type: 'lines',
                                    zlevel: 2,
                                    symbol: ['none', 'arrow'],
                                    symbolSize: 10,
                                    effect: {
                                        show: true,
                                        period: 6,
                                        trailLength: 0,
                                        //symbol: planePath_gz,
                                        symbolSize: 6
                                    },
                                    lineStyle: {
                                        normal: {
                                            color: color[i],
                                            width: 1,
                                            opacity: 0.5,
                                            curveness: 0.2
                                        }
                                    },
                                    data: convertData_gz(item[1])
                                }, {
                                    name: item[0],
                                    type: 'effectScatter',
                                    zlevel: 2,
                                    rippleEffect: {
                                        brushType: 'stroke'
                                    },
                                    label: {
                                        normal: {
                                            show: (i == 0 ? true : false),
                                            position: 'right',
                                            formatter: '{b}'
                                        }
                                    },
                                    symbolSize: function(val) {
                                        return val[2] / 10;
                                    },
                                    itemStyle: {
                                        normal: {
                                            color: color[i]
                                        }
                                    },
                                    data: item[1].map(function(dataItem) {
                                        return {
                                            name: dataItem[1].name,
                                            value: GZ_DATA_GEO_CoordMap[dataItem[1].name].concat([dataItem[1].value])
                                        };
                                    })
                                });
                            });
                            return {
                                tooltip: {
                                    trigger: 'item',
                                    formatter: function(params) {
                                        if (params.data.fromName) {
                                            return params.data.fromName + " > " + params.data.toName + " <br/>流量数 : " + params.data.fromValue;
                                        } else {
                                            return params.name + "<br/>流向广州人数：" + params.value[2];
                                        }
                                    }
                                },
                                legend: {
                                    orient: 'vertical',
                                    top: '5%',
                                    left: 'right',
                                    data: ['增城区', '南沙区', '海珠区', '从化区', '花都区'],
                                    textStyle: {
                                        color: '#fff'
                                    },
                                    selectedMode: 'mutipla',
                                    bottom: '50%'
                                },
                                visualMap: {
                                    min: 0,
                                    max: 100,
                                    calculable: true,
                                    inRange: {
                                        color: ['#50a3ba', '#eac736', '#d94e5d']
                                    },
                                    textStyle: {
                                        color: '#fff'
                                    },
                                    bottom: "10%"
                                },
                                series: series
                            };
                        }
                    </script>
                </div>
            </div>
            <!--2D-流线图-->
            <div class="panel panel-default" id='2D-history'>
                <div class="panel-heading">
                    <h3 class="panel-title">2DMaps</h3>
                    <div class="panel-options">
                        <a href="#" data-toggle="panel">
                            <span class="collapse-icon">&ndash;</span>
                            <span class="expand-icon">+</span>
                        </a>
                        <a href="#" data-toggle="remove">
							&times;
						</a>
                    </div>
                </div>
                <div class="panel-body">
                    <!--在这改内容-->
                    <div id="map2"></div>
                    <script src="https://cdn.jsdelivr.net/npm/hmap-js/dist/hmap.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/ol3-echarts/dist/ol3Echarts.js"></script>
                    <script>
                        var map2 = new HMap('map2', {
                            controls: {
                                loading: true,
                                zoomSlider: true,
                                fullScreen: false
                            },
                            view: {
                                center: [113.48639681199214, 23.31897543042969],
                                projection: 'EPSG:4326',
                                zoom: 10, // resolution
                            },
                            baseLayers: [{
                                layerName: 'vector',
                                isDefault: true,
                                layerType: 'TileXYZ',
                                projection: 'EPSG:3857',
                                tileGrid: {
                                    tileSize: 256,
                                    extent: [-2.0037507067161843E7, -3.0240971958386254E7, 2.0037507067161843E7, 3.0240971958386205E7],
                                    origin: [-2.0037508342787E7, 2.0037508342787E7],
                                    resolutions: [
                                        156543.03392800014,
                                        78271.51696399994,
                                        39135.75848200009,
                                        19567.87924099992,
                                        9783.93962049996,
                                        4891.96981024998,
                                        2445.98490512499,
                                        1222.992452562495,
                                        611.4962262813797,
                                        305.74811314055756,
                                        152.87405657041106,
                                        76.43702828507324,
                                        38.21851414253662,
                                        19.10925707126831,
                                        9.554628535634155,
                                        4.77731426794937,
                                        2.388657133974685
                                    ]
                                },
                                layerUrl: 'http://cache1.arcgisonline.cn/arcgis/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}'
                            }]
                        });
                        var echartslayer = new ol3Echarts(getOption());
                        echartslayer.appendTo(map2.getMap());

                        function getOption() {
                            var geoCoordMap = {
                                '上海': [121.4648, 31.2891],
                                '东莞': [113.8953, 22.901],
                                '东营': [118.7073, 37.5513],
                                '中山': [113.4229, 22.478],
                                '临汾': [111.4783, 36.1615],
                                '临沂': [118.3118, 35.2936],
                                '丹东': [124.541, 40.4242],
                                '丽水': [119.5642, 28.1854],
                                '乌鲁木齐': [87.9236, 43.5883],
                                '佛山': [112.8955, 23.1097],
                                '保定': [115.0488, 39.0948],
                                '兰州': [103.5901, 36.3043],
                                '包头': [110.3467, 41.4899],
                                '北京': [116.4551, 40.2539],
                                '北海': [109.314, 21.6211],
                                '南京': [118.8062, 31.9208],
                                '南宁': [108.479, 23.1152],
                                '南昌': [116.0046, 28.6633],
                                '南通': [121.1023, 32.1625],
                                '厦门': [118.1689, 24.6478],
                                '台州': [121.1353, 28.6688],
                                '合肥': [117.29, 32.0581],
                                '呼和浩特': [111.4124, 40.4901],
                                '咸阳': [108.4131, 34.8706],
                                '哈尔滨': [127.9688, 45.368],
                                '唐山': [118.4766, 39.6826],
                                '嘉兴': [120.9155, 30.6354],
                                '大同': [113.7854, 39.8035],
                                '大连': [122.2229, 39.4409],
                                '天津': [117.4219, 39.4189],
                                '太原': [112.3352, 37.9413],
                                '威海': [121.9482, 37.1393],
                                '宁波': [121.5967, 29.6466],
                                '宝鸡': [107.1826, 34.3433],
                                '宿迁': [118.5535, 33.7775],
                                '常州': [119.4543, 31.5582],
                                '广州': [113.5107, 23.2196],
                                '廊坊': [116.521, 39.0509],
                                '延安': [109.1052, 36.4252],
                                '张家口': [115.1477, 40.8527],
                                '徐州': [117.5208, 34.3268],
                                '德州': [116.6858, 37.2107],
                                '惠州': [114.6204, 23.1647],
                                '成都': [103.9526, 30.7617],
                                '扬州': [119.4653, 32.8162],
                                '承德': [117.5757, 41.4075],
                                '拉萨': [91.1865, 30.1465],
                                '无锡': [120.3442, 31.5527],
                                '日照': [119.2786, 35.5023],
                                '昆明': [102.9199, 25.4663],
                                '杭州': [119.5313, 29.8773],
                                '枣庄': [117.323, 34.8926],
                                '柳州': [109.3799, 24.9774],
                                '株洲': [113.5327, 27.0319],
                                '武汉': [114.3896, 30.6628],
                                '汕头': [117.1692, 23.3405],
                                '江门': [112.6318, 22.1484],
                                '沈阳': [123.1238, 42.1216],
                                '沧州': [116.8286, 38.2104],
                                '河源': [114.917, 23.9722],
                                '泉州': [118.3228, 25.1147],
                                '泰安': [117.0264, 36.0516],
                                '泰州': [120.0586, 32.5525],
                                '济南': [117.1582, 36.8701],
                                '济宁': [116.8286, 35.3375],
                                '海口': [110.3893, 19.8516],
                                '淄博': [118.0371, 36.6064],
                                '淮安': [118.927, 33.4039],
                                '深圳': [114.5435, 22.5439],
                                '清远': [112.9175, 24.3292],
                                '温州': [120.498, 27.8119],
                                '渭南': [109.7864, 35.0299],
                                '湖州': [119.8608, 30.7782],
                                '湘潭': [112.5439, 27.7075],
                                '滨州': [117.8174, 37.4963],
                                '潍坊': [119.0918, 36.524],
                                '烟台': [120.7397, 37.5128],
                                '玉溪': [101.9312, 23.8898],
                                '珠海': [113.7305, 22.1155],
                                '盐城': [120.2234, 33.5577],
                                '盘锦': [121.9482, 41.0449],
                                '石家庄': [114.4995, 38.1006],
                                '福州': [119.4543, 25.9222],
                                '秦皇岛': [119.2126, 40.0232],
                                '绍兴': [120.564, 29.7565],
                                '聊城': [115.9167, 36.4032],
                                '肇庆': [112.1265, 23.5822],
                                '舟山': [122.2559, 30.2234],
                                '苏州': [120.6519, 31.3989],
                                '莱芜': [117.6526, 36.2714],
                                '菏泽': [115.6201, 35.2057],
                                '营口': [122.4316, 40.4297],
                                '葫芦岛': [120.1575, 40.578],
                                '衡水': [115.8838, 37.7161],
                                '衢州': [118.6853, 28.8666],
                                '西宁': [101.4038, 36.8207],
                                '西安': [109.1162, 34.2004],
                                '贵阳': [106.6992, 26.7682],
                                '连云港': [119.1248, 34.552],
                                '邢台': [114.8071, 37.2821],
                                '邯郸': [114.4775, 36.535],
                                '郑州': [113.4668, 34.6234],
                                '鄂尔多斯': [108.9734, 39.2487],
                                '重庆': [107.7539, 30.1904],
                                '金华': [120.0037, 29.1028],
                                '铜川': [109.0393, 35.1947],
                                '银川': [106.3586, 38.1775],
                                '镇江': [119.4763, 31.9702],
                                '长春': [125.8154, 44.2584],
                                '长沙': [113.0823, 28.2568],
                                '长治': [112.8625, 36.4746],
                                '阳泉': [113.4778, 38.0951],
                                '青岛': [120.4651, 36.3373],
                                '韶关': [113.7964, 24.7028]
                            };
                            var BJData = [
                                [{
                                    name: '北京'
                                }, {
                                    name: '上海',
                                    value: 95
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '广州',
                                    value: 90
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '大连',
                                    value: 80
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '南宁',
                                    value: 70
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '南昌',
                                    value: 60
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '拉萨',
                                    value: 50
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '长春',
                                    value: 40
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '包头',
                                    value: 30
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '重庆',
                                    value: 20
                                }],
                                [{
                                    name: '北京'
                                }, {
                                    name: '常州',
                                    value: 10
                                }]
                            ];
                            var SHData = [
                                [{
                                    name: '上海'
                                }, {
                                    name: '包头',
                                    value: 95
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '昆明',
                                    value: 90
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '广州',
                                    value: 80
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '郑州',
                                    value: 70
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '长春',
                                    value: 60
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '重庆',
                                    value: 50
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '长沙',
                                    value: 40
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '北京',
                                    value: 30
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '丹东',
                                    value: 20
                                }],
                                [{
                                    name: '上海'
                                }, {
                                    name: '大连',
                                    value: 10
                                }]
                            ];
                            var GZData = [
                                [{
                                    name: '广州'
                                }, {
                                    name: '福州',
                                    value: 95
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '太原',
                                    value: 90
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '长春',
                                    value: 80
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '重庆',
                                    value: 70
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '西安',
                                    value: 60
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '成都',
                                    value: 50
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '常州',
                                    value: 40
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '北京',
                                    value: 30
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '北海',
                                    value: 20
                                }],
                                [{
                                    name: '广州'
                                }, {
                                    name: '海口',
                                    value: 10
                                }]
                            ];

                            var planePath = 'path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z'
                            var convertData = function(data) {
                                var res = [];
                                for (var i = 0; i < data.length; i++) {
                                    var dataItem = data[i];
                                    var fromCoord = geoCoordMap[dataItem[0].name];
                                    var toCoord = geoCoordMap[dataItem[1].name];
                                    if (fromCoord && toCoord) {
                                        res.push({
                                            fromName: dataItem[0].name,
                                            toName: dataItem[1].name,
                                            coords: [fromCoord, toCoord]
                                        });
                                    }
                                }
                                return res;
                            };
                            var color = ['#a6c84c', '#ffa022', '#46bee9'];
                            var series = [];
                            [
                                ['北京', BJData],
                                ['上海', SHData],
                                ['广州', GZData]
                            ].forEach(
                                function(item, i) {
                                    series.push({
                                        name: item[0] + ' Top10',
                                        type: 'lines',
                                        zlevel: 1,
                                        effect: {
                                            show: true,
                                            period: 6,
                                            trailLength: 0.7,
                                            color: '#fff',
                                            symbolSize: 3
                                        },
                                        lineStyle: {
                                            normal: {
                                                color: color[i],
                                                width: 0,
                                                curveness: 0.2
                                            }
                                        },
                                        data: convertData(item[1])
                                    }, {
                                        name: item[0] + ' Top10',
                                        type: 'lines',
                                        zlevel: 2,
                                        effect: {
                                            show: true,
                                            period: 6,
                                            trailLength: 0,
                                            symbol: planePath,
                                            symbolSize: 15
                                        },
                                        lineStyle: {
                                            normal: {
                                                color: color[i],
                                                width: 1,
                                                opacity: 0.4,
                                                curveness: 0.2
                                            }
                                        },
                                        data: convertData(item[1])
                                    }, {
                                        name: item[0] + ' Top10',
                                        type: 'effectScatter',
                                        coordinateSystem: 'geo',
                                        zlevel: 2,
                                        rippleEffect: {
                                            brushType: 'stroke'
                                        },
                                        label: {
                                            normal: {
                                                show: true,
                                                position: 'right',
                                                formatter: '{b}'
                                            }
                                        },
                                        symbolSize: function(val) {
                                            return val[2] / 8;
                                        },
                                        itemStyle: {
                                            normal: {
                                                color: color[i]
                                            }
                                        },
                                        data: item[1].map(function(dataItem) {
                                            return {
                                                name: dataItem[1].name,
                                                value: geoCoordMap[dataItem[1].name].concat([dataItem[1].value])
                                            };
                                        })
                                    });
                                });
                            return {
                                tooltip: {
                                    trigger: 'item'
                                },
                                series: series
                            };
                        }
                    </script>
                </div>
            </div>

        </div>

        <!-- Bottom Scripts -->
        <script src="js/bootstrap.min.js"></script>
        <script src="js/TweenMax.min.js"></script>
        <script src="js/resizeable.js"></script>
        <script src="js/joinable.js"></script>
        <script src="js/xenon-api.js"></script>
        <script src="js/xenon-toggles.js"></script>

        <!-- Imported scripts on this page -->
        <script src="js/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
        <script src="js/jvectormap/regions/jquery-jvectormap-world-mill-en.js"></script>
        <script src="js/jvectormap/regions/jquery-jvectormap-it-mill-en.js"></script>

        <!-- JavaScripts initializations and stuff -->
        <script src="js/xenon-custom.js"></script>
</div>
</body>

</html>